<div fxLayout="column" fxLayoutAlign="start center" class="mc-flex">
  <div class="content-row">
    <h1 class="ui-navigation"><mat-icon routerLink="/">home</mat-icon> / Timesheet</h1>
  </div>

  <div class="content-row">
    <app-client-selector (changed)="clientSelected($event)" class="stretched"></app-client-selector>
  </div>

  <div class="content-row" *ngIf="entries.length > 0">
    <table class="entry-table">
      <tr class="header">
        <td>&nbsp;</td>
        <td *ngFor="let entry of entries" class="date">
          <div class="day">{{ entry.entryDate | date:'E' }}</div>
          <div>{{ entry.entryDate | date:'MM-dd' }}</div>
        </td>
        <td>&nbsp;</td>
      </tr>

      <tr *ngFor="let project of projects" class="projects">
        <td>{{ project.projectName }}</td>
        <td *ngFor="let entry of entries" [class]="getDateClass(entry)">
          <app-time-entry-editor [info]="entry" [project]="project" (onUpdate)="onEntryChange($event)" class="time-editor"></app-time-entry-editor>
        </td>
        <td>
          <span class="total">{{ getProjectTotalTime(project) }}</span>
        </td>
      </tr>

      <tr class="totals" *ngIf="projects.length > 0">
        <td class="add-button">
          <mat-icon (click)="addRow()">add</mat-icon>
        </td>
        <td *ngFor="let entry of entries">
          <span class="daily-sum">{{ getDailyTotalTime(entry.entryTime) }}</span>
        </td>
        <td class="final-total">{{ totalLoggedTime }}</td>
      </tr>
    </table>
  </div>
</div>
